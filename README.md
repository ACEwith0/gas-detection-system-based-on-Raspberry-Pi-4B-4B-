# æ ‘èŽ“æ´¾æ°”ä½“æ£€æµ‹ç³»ç»Ÿ

## ðŸ“– é¡¹ç›®ç®€ä»‹
æœ¬é¡¹ç›®åŸºäºŽ **æ ‘èŽ“æ´¾ 4B** å’Œ **æ°”ä½“ä¼ æ„Ÿå™¨æ¨¡å—ï¼ˆMQ-2ã€MQ-9ï¼‰**ï¼Œå®žçŽ°äº†å®žæ—¶æ°”ä½“æµ“åº¦æ£€æµ‹ã€é˜ˆå€¼æŠ¥è­¦ã€WiFi çƒ­ç‚¹ç›´è¿žä»¥åŠä¸Šä½æœºæ•°æ®å¯è§†åŒ–åŠŸèƒ½ã€‚  
ç³»ç»Ÿèƒ½å¤Ÿç›‘æµ‹ **çƒŸé›¾æµ“åº¦ï¼ˆMQ-2ï¼‰** å’Œ **ä¸€æ°§åŒ–ç¢³æµ“åº¦ï¼ˆMQ-9ï¼‰**ï¼Œåœ¨æµ“åº¦è¶…è¿‡è®¾å®šé˜ˆå€¼æ—¶è§¦å‘æŠ¥è­¦ï¼Œå¹¶é€šè¿‡æ— çº¿ç½‘ç»œå°†æ•°æ®å®žæ—¶ä¼ è¾“è‡³ Android æ‰‹æœºç«¯è¿›è¡Œå¯è§†åŒ–æ˜¾ç¤ºå’Œæ³¢å½¢ç»˜åˆ¶ã€‚

---

## ðŸ› ï¸ ç¡¬ä»¶ç»„æˆ
- æ ‘èŽ“æ´¾ 4Bï¼ˆRaspberry Pi 4Bï¼‰
- æ°”ä½“ä¼ æ„Ÿå™¨ MQ-2ï¼ˆçƒŸé›¾æ£€æµ‹ï¼‰
- æ°”ä½“ä¼ æ„Ÿå™¨ MQ-9ï¼ˆä¸€æ°§åŒ–ç¢³æ£€æµ‹ï¼‰
- PCF8591 æ¨¡æ‹Ÿé‡é‡‡é›†æ¨¡å—ï¼ˆIÂ²C æŽ¥å£ï¼‰
- æ ‘èŽ“æ´¾å®˜æ–¹ 7 å¯¸è§¦æ‘¸å±ï¼ˆå¯é€‰ï¼‰
- æœ‰æºèœ‚é¸£å™¨ï¼ˆé«˜ç”µå¹³è§¦å‘ï¼‰

---

## ðŸ’» è½¯ä»¶åŠŸèƒ½
1. **æ°”ä½“æ•°æ®é‡‡é›†**  
   é€šè¿‡ PCF8591 æ¨¡å—è¯»å– MQ-2ã€MQ-9 çš„æ¨¡æ‹Ÿè¾“å‡ºå€¼ï¼ˆ0-255ï¼‰ã€‚
   
2. **é˜ˆå€¼æŠ¥è­¦**  
   - MQ-2 çƒŸé›¾é˜ˆå€¼ï¼š`180/255`  
   - MQ-9 ä¸€æ°§åŒ–ç¢³é˜ˆå€¼ï¼š`170/255`  
   å½“è¶…è¿‡é˜ˆå€¼æ—¶ï¼Œ`alert_status` æ ‡å¿—ç½®ä¸º Trueã€‚

3. **WiFi çƒ­ç‚¹æ¨¡å¼**  
   æ ‘èŽ“æ´¾å¯åŠ¨æ—¶è‡ªåŠ¨å¼€å¯çƒ­ç‚¹ï¼ˆSSID: `GasDetector_Hotspot`ï¼Œå¯†ç : `12345678`ï¼‰ï¼Œæ‰‹æœºå¯ç›´æŽ¥è¿žæŽ¥ã€‚

4. **UDP è‡ªåŠ¨å‘çŽ° + TCP æ•°æ®ä¼ è¾“**  
   - UDP å¹¿æ’­è®¾å¤‡ä¿¡æ¯ï¼ˆæ¯ 5 ç§’ä¸€æ¬¡ï¼‰
   - ä¸Šä½æœº APP é€šè¿‡ TCP ç«¯å£ï¼ˆ50000ï¼‰èŽ·å–å®žæ—¶æ°”ä½“æµ“åº¦æ•°æ®

5. **ä¸Šä½æœºå¯è§†åŒ–æ˜¾ç¤º**  
   - å®žæ—¶æµ“åº¦ç™¾åˆ†æ¯”æ˜¾ç¤º  
   - æµ“åº¦æ³¢å½¢æ›²çº¿ç»˜åˆ¶  
   - ppm æ•°å€¼æ˜¾ç¤º  
   - çŠ¶æ€æ˜¾ç¤ºï¼ˆæ­£å¸¸ / è§¦å‘æŠ¥è­¦ï¼‰

---

## ðŸ“· ç³»ç»Ÿè¿è¡Œæ•ˆæžœ

### æ ‘èŽ“æ´¾ç»ˆç«¯è¾“å‡º
![æ ‘èŽ“æ´¾ç»ˆç«¯ç•Œé¢](./images/pi_terminal.png)

### æ‰‹æœºä¸Šä½æœºç•Œé¢
![ä¸Šä½æœºç•Œé¢](./images/app_ui.png)

---

## ðŸ“‚ ä»£ç æ ¸å¿ƒé€»è¾‘è§£æž

### 1. æ•°æ®è¯»å–ä¸ŽæŠ¥è­¦åˆ¤æ–­
```python
# è¯»å– PCF8591 æŒ‡å®šé€šé“æ•°æ®
mq2_raw = read_pcf8591(PCF8591_CHANNEL_MQ2)
mq9_raw = read_pcf8591(PCF8591_CHANNEL_MQ9)

# æ›´æ–°å…¨å±€å˜é‡
with sensor_data_lock:
    current_mq2_raw = mq2_raw
    current_mq9_raw = mq9_raw

# é˜ˆå€¼åˆ¤æ–­
alert_status["smoke"] = mq2_raw > MQ2_SMOKE_THRESHOLD
alert_status["co"] = mq9_raw > MQ9_CO_THRESHOLD
